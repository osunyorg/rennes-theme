////
/// Rennes Hugo theme
/// @file Design-system - Footer.
////

.footer-menu-thematic
  @extend %icon-containing-class
  li::before
    margin-right: space()

.footer-menu-news
  li
    @extend %icons-spacing

footer#document-footer
  padding-bottom: $spacing-6
  padding-top: $spacing-6

  @include media-breakpoint-down(desktop)
    margin-bottom: var(--header-height)
    padding-bottom: $spacing-4
    padding-top: $spacing-4
  a
    &:has(img)
      &::after
        display: none

  nav:not(.footer-menu-thematic)
    ul
      li
        a
          @include hover-translate-icon(after)

          &:not([target="_blank"])
            @include icon(arrow-right-line, after, true)

  ul
    li
      a, span
        font-family: $heading-font-family
        font-size: pxToRem(14)

        @include media-breakpoint-up(desktop)
          font-size: pxToRem(16)

      + li
        margin-top: 0

      @include media-breakpoint-up(desktop)
        line-height: 100%

  .footer-menu:not(.footer-menu-thematic)
    a
      &:not([target="_blank"])
        @include icon(arrow-right-line, after)
        @include hover-translate-icon(after)

      &::after
        display: inline-block
        margin-left: space()
        vertical-align: middle

  .footer-contact
    @include icon(arrow-right-line, after)
    @include hover-translate-icon(after)
    display: block
    margin-top: var(--grid-gutter)
    text-decoration: none

    @include media-breakpoint-up(desktop)
      margin-top: space(8)

  .footer-menu-label
    color: alphaColor(var(--color-background), 0.7)
    font-size: pxToRem(15)
    margin-bottom: $spacing-1

    @include media-breakpoint-up(desktop)
      font-size: pxToRem(18)

  .container
    align-items: flex-start
    column-gap: var(--grid-gutter)
    display: flex
    padding-bottom: 0

    @include media-breakpoint-down(lg)
      flex-direction: column
      row-gap: $spacing-6

  .footer-logo
    @include media-breakpoint-up(desktop)
      position: sticky
      top: var(--grid-gutter)
      transition: top .3s
      width: columns(3)

      html:not(.is-scrolling-down) &
          top: -moz-calc(var(--header-height) + var(--grid-gutter))
          top: calc(var(--header-height) + var(--grid-gutter))

  .footer-navigation
    flex: 1

    @include media-breakpoint-down(lg)
      margin-top: 0
      width: 100%

  .footer-menu
    grid-column: span 3
    
    ul
      @include grid(2, sm, $gap-y: space(4))
      @include grid(3, xxl, $gap-y: space(4))

      @include media-breakpoint-down(desktop)
        margin-top: space(4)

        li + li
          margin-top: $spacing-1

      @include media-breakpoint-down(xl)
        @include media-breakpoint-up(desktop)
          grid-template-columns: repeat(2, columns(4))

    + *
      margin-top: $spacing-6

      @include media-breakpoint-up(xxl)
        margin-top: $spacing-7

  .footer-credits
    display: flex
    gap: $spacing-4 var(--grid-gutter)
    
    > .footer-menu-label
      margin-bottom: 0
    
    .footer-menu-label
      @include small
      flex: 1
      order: -1

    @include media-breakpoint-down(md)
      flex-direction: column

    @include media-breakpoint-up(md)
      align-items: flex-end

  .footer-europe-link
    width: columns(6)
    
    p
      margin-bottom: $spacing-2

    a:focus-visible
      outline-style: auto

    @include media-breakpoint-down(xl)
      @include media-breakpoint-up(desktop)
        width: columns(5)

    @include media-breakpoint-up(xl)
      width: columns(3)
