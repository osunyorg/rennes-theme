<!-- @DEV inspired by Osuny commons/logo.html-->
{{ $logo := .logo }}
{{ $title := .title }}
{{ $link_href := .link_href }}
{{ $file := false }}
{{ $file_darkmode := false }}
{{ if eq (printf "%T" $logo) "string" }}
    {{ $file = $logo }}
{{ else }}
    {{ $file = $logo.default }}
    {{ $file_darkmode = $logo.darkmode }}
{{ end }}

<a class="logo {{- if $file_darkmode }} with-darkmode {{ end -}}"
   href="{{ $link_href }}"
   title="{{ i18n "custom.home" }} - {{ $title }}">

    {{ if $file }}
        {{ $fileDimensions := partial "GetImageDimensions" (dict "context" . "file" $file "static" true) }}
        <img src="{{ $file }}"
             alt="{{ $title }}"
             height="{{ index $fileDimensions 1 }}"
             width="{{ index $fileDimensions 0 }}">
        {{ if $file_darkmode }}
            {{ $fileDimensions := partial "GetImageDimensions" (dict "context" . "file" $file_darkmode "static" true) }}
            <img class="logo-darkmode"
                 src="{{ $file_darkmode }}"
                 alt="{{ $title }}"
                 height="{{ index $fileDimensions 1 }}"
                 width="{{ index $fileDimensions 0 }}">
        {{ end }}
    {{ else }}
        <span class="logo-text">{{ $title }}</span>
    {{ end }}
</a>
